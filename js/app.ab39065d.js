(function(){"use strict";var e={4319:function(e,t,i){var n=i(9242),a=i(3396),s=i(7139);const o={class:"content"};function r(e,t,i,n,r,l){const c=(0,a.up)("DeleteModal"),d=(0,a.up)("InvoiceForm"),u=(0,a.up)("control-panel"),m=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",{class:"app-content",style:(0,s.j5)(this.darkMode?{"background-color":e.xiketic}:{"background-color":e.cultured})},[e.deleteModalActive?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0),e.invoiceForm?((0,a.wg)(),(0,a.j4)(d,{key:1})):(0,a.kq)("",!0),(0,a.Wm)(u),(0,a._)("div",o,[(0,a.Wm)(m)])],4)}var l=i(65),c=i.p+"img/logo.de765394.svg",d=i.p+"img/icon-sun.20a12fae.svg",u=i.p+"img/icon-moon.f0303c2a.svg",m="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIAFAAUAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAAAAgMHCAEEBQb/2gAIAQEAAAAAsvkyGTAk1IO8pJ8tBhGYhrh6vnW47oNlcPGu9+fPSA2efrf0OPbDaBkIkqptX02jLJiM6WIkCw8o7yTl1Di5Ww9tWam+LKq8VkEPyNdCifkVIU2jYkr/xAAZAQACAwEAAAAAAAAAAAAAAAACAwABBAX/2gAIAQIQAAAAblTvhcgesRZ83QhRDSoKpn//xAAaAQABBQEAAAAAAAAAAAAAAAACAAEDBAUG/9oACAEDEAAAAKWpbwkHVFzMcd69ioFKDJ3cP//EADUQAAEDAwIEBAMFCQAAAAAAAAECAwQABREGEgchMUEQE1FxIzJhFCAigaEkMENSYnORsbL/2gAIAQEAAT8A/eTp8aBEdlSF7W2xkn/QFXriPcH3HExlllvshPzfmaY13dobu5qepPqCdwNaZ4msznUMT0NpJwA810yf5k/f4s3dDEOFCC8KUovL9hyFIdm3WZ9mhgD1UegFRNFQXE4euRW73DbiautkXYyJUO5Jd8oBa2s/FQM/MMVpe5quunrXOUQVPR0lR9VDkfvcb25qrnaW2W8+ewUJP1SasVuet1sC2GQ6+vkSe1RLROnX6O624UNJKC6Rke4qXo2UxdX2ypZZfcKvPIBBZUMFs9wa0fZzZNM2m3KcC1MMAKUOhKiVeOazWa1LZGL1bVMLbSpxCgtonsodsnsakOXiwXh+NObLe7C8HBGFHqCKmasb+xurYkojObCGso3FSu5AqxaucDq0Trm+4XEpShK8FvJ9qgn9iif2G/8AkVnwzWazWa4vWVcuwi6R0ZfhfP8AVldIuKFv71gZCAlKlDcE889KTdhsIW+F5UMI8tKR16jFQZMeTDjPx3EOMuNJLa0HKSMdq3Vms1nw51xafksaOkOMTksEPIyg/wAcd26ccUtRJAHtSeorSOvNQ6cfZTHlLciJXlcRZ+GoVY+MmnZ6g3NYehLPc/ERUK526e0HIcxh9J7oWFeG2sVd71bLLDVKnyUMtjpnqo+iR3NcR9cPaqmseW2WokbcGW+53dVqojn0oJ6ZpKsdKRILfTmfWmZslpYcQ6pKwchQPMVwo17NvK3bTcnvNfbb3sOn5lpHVKvDiLxERphCIcNKVz3UZ59GkHuau1/ud3kqfnTHX3PVZzj6CiaV1A8CcAn0oHn+VJVXCt5aNcWbb3cWD7FB8NbXc3PU13lbypCpSw2f6EnaK3/qa71nK/BR/CaTkmh+grhQnOubR7un/DZr/8QAIBEAAgICAgIDAAAAAAAAAAAAAQIAEQMEEDEhQRMgcf/aAAgBAgEBPwCbO3jwUDZY+hMO/jyEBlKEn6Z0HzO7Vd+IgtqJBFRRSj85za6vZ9zHrhDK5PUqKZ4PU6swknle5//EACARAAICAgEFAQAAAAAAAAAAAAECABEDBAUQICExQWH/2gAIAQMBAT8AnH8Vs71lKVB7Y+pt8Ds4AWTIuVQPNe+zU2GGpgwYiQtEu36fkZnVbUENMpByuQPp6XNXcfFSfLmTfLi7A8QmyZfQWDLldtQz/9k=";const p=e=>((0,a.dD)("data-v-ba9fc914"),e=e(),(0,a.Cn)(),e),h=p((()=>(0,a._)("img",{class:"logo",src:c,alt:"logo"},null,-1))),g={class:"info"},v={class:"theme-container"},y=p((()=>(0,a._)("img",{src:m,alt:"",class:"avatar"},null,-1)));function A(e,t,i,n,o,r){return(0,a.wg)(),(0,a.iD)("div",{style:(0,s.j5)(this.darkMode?{"background-color":e.spaceCadetDark}:{"background-color":"#373B53"}),class:"control-panel"},[h,(0,a._)("div",g,[(0,a._)("div",v,[e.darkMode?((0,a.wg)(),(0,a.iD)("img",{key:0,onClick:t[0]||(t[0]=(...t)=>e.TOGGLE_DARK_MODE&&e.TOGGLE_DARK_MODE(...t)),class:"theme-icon",src:d,alt:"sun"})):(0,a.kq)("",!0),e.darkMode?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("img",{key:1,onClick:t[1]||(t[1]=(...t)=>e.TOGGLE_DARK_MODE&&e.TOGGLE_DARK_MODE(...t)),class:"theme-icon",src:u,alt:"sun"}))]),y])],4)}const I={methods:{...(0,l.OI)(["TOGGLE_DARK_MODE"])},computed:{...(0,l.Se)(["xiketic","cultured","lightCoral","redSalsa","richBlack","glaucous","coolGrey","lavenderWeb","spaceCadetLight","spaceCadetDark","mediumPurple","mediumSlateBlue"]),...(0,l.rn)(["darkMode"])}},_=()=>{(0,n.sj)((e=>({"7d872b00":e.spaceCadetDark})))},f=I.setup;I.setup=f?(e,t)=>(_(),f(e,t)):_;var k=I,b=i(89);const w=(0,b.Z)(k,[["render",A],["__scopeId","data-v-ba9fc914"]]);var D=w,M=i.p+"img/icon-arrow-left.80729cc3.svg",E=i.p+"img/icon-arrow-down.b9de1510.svg";const C=(0,a._)("img",{src:M,alt:""},null,-1),T={class:"bill-from"},P=(0,a._)("div",{class:"bill-from-title"},"Bill From",-1),S={class:"input-block"},B=(0,a._)("label",{for:"senderStreet"},"Street Adress",-1),O={class:"location input-block"},L={class:"input-container"},F=(0,a._)("label",{for:"senderCity"},"City",-1),G={class:"input-container"},N=(0,a._)("label",{for:"senderPost"},"Post Code",-1),x={class:"input-container"},V=(0,a._)("label",{for:"senderCountry"},"Country",-1),U={class:"bill-to"},R=(0,a._)("div",{class:"bill-to-title"},"Bill To",-1),q={class:"input-block"},j=(0,a._)("label",{for:"clientName"},"Client’s Name",-1),z={class:"input-block"},K=(0,a._)("label",{for:"clientEmail"},"Client’s Email",-1),Q={class:"input-block"},W=(0,a._)("label",{for:"clientAddress"},"Street Address",-1),J={class:"location input-block"},H={class:"input-container"},Z=(0,a._)("label",{for:"clientCity"},"City",-1),Y={class:"input-container"},$=(0,a._)("label",{for:"clientPost"},"Post Code",-1),X={class:"input-container"},ee=(0,a._)("label",{for:"clientCountry"},"Country",-1),te={class:"date input-block"},ie={class:"input-container"},ne={class:"input-container"},ae=(0,a._)("div",{class:"select-title"},[(0,a._)("span",null,"Payment Terms")],-1),se={class:"custom-select"},oe={class:"custom-select-dropdown"},re=(0,a._)("img",{class:"arrow-select",src:E,alt:""},null,-1),le={class:"input-block"},ce=(0,a._)("label",{for:"description"},"Project Description",-1),de={class:"form-item-list"},ue=(0,a._)("h2",{class:"list-title"},"Item List",-1),me={class:"item-name"},pe=(0,a._)("label",{for:"itemName"},"Item Name",-1),he=["onUpdate:modelValue"],ge={class:"qty"},ve=(0,a._)("label",{for:"qty"},"Qty.",-1),ye=["onUpdate:modelValue"],Ae={class:"price"},Ie=(0,a._)("label",{for:"price"},"Price",-1),_e=["onUpdate:modelValue"],fe={class:"total"},ke=(0,a._)("label",{class:"total-label"},"Total",-1),be=["onClick"],we=(0,a._)("svg",{width:"13",height:"16",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("path",{d:"M11.583 3.556v10.666c0 .982-.795 1.778-1.777 1.778H2.694a1.777 1.777 0 01-1.777-1.778V3.556h10.666zM8.473 0l.888.889h3.111v1.778H.028V.889h3.11L4.029 0h4.444z",fill:"#888EB0","fill-rule":"nonzero"})],-1),De=[we],Me={key:3,class:"alert"},Ee={class:"bottom-buttons"},Ce={class:"left-side"},Te={class:"right-side"};function Pe(e,t,i,o,r,l){const c=(0,a.up)("loading-animation"),d=(0,a.up)("Datepicker");return(0,a.wg)(),(0,a.iD)("div",{onClick:t[27]||(t[27]=(0,n.iM)(((...e)=>l.closeForm&&l.closeForm(...e)),["self"])),ref:"formWrapper",class:(0,s.C_)([r.loading?r.noScroll:"",r.formWrapper])},[(0,a.Wm)(n.uT,{name:"form"},{default:(0,a.w5)((()=>[r.animationIsReady?((0,a.wg)(),(0,a.iD)("form",{key:0,onSubmit:t[26]||(t[26]=(0,n.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"])),class:"invoice-content",style:(0,s.j5)(this.darkMode?{"background-color":e.xiketic}:{"background-color":e.white})},[r.loading?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0),(0,a._)("div",{onClick:t[0]||(t[0]=(...e)=>l.closeForm&&l.closeForm(...e)),class:"go-back"},[C,(0,a._)("span",{style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})},"Go Back",4)]),e.editingMode?((0,a.wg)(),(0,a.iD)("h1",{key:2,class:"form-title",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})}," Edit Invoice ",4)):((0,a.wg)(),(0,a.iD)("h1",{key:1,class:"form-title",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})}," New Invoice ",4)),(0,a._)("div",T,[P,(0,a._)("div",S,[B,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"senderStreet","onUpdate:modelValue":t[1]||(t[1]=e=>r.senderAddress.street=e)},null,512),[[n.nr,r.senderAddress.street]])]),(0,a._)("div",O,[(0,a._)("div",L,[F,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"senderCity","onUpdate:modelValue":t[2]||(t[2]=e=>r.senderAddress.city=e)},null,512),[[n.nr,r.senderAddress.city]])]),(0,a._)("div",G,[N,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"senderPost","onUpdate:modelValue":t[3]||(t[3]=e=>r.senderAddress.postCode=e)},null,512),[[n.nr,r.senderAddress.postCode]])]),(0,a._)("div",x,[V,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"senderCountry","onUpdate:modelValue":t[4]||(t[4]=e=>r.senderAddress.country=e)},null,512),[[n.nr,r.senderAddress.country]])])])]),(0,a._)("div",U,[R,(0,a._)("div",q,[j,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"clientName","onUpdate:modelValue":t[5]||(t[5]=e=>r.clientName=e)},null,512),[[n.nr,r.clientName]])]),(0,a._)("div",z,[K,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"clientEmail","onUpdate:modelValue":t[6]||(t[6]=e=>r.clientEmail=e)},null,512),[[n.nr,r.clientEmail]])]),(0,a._)("div",Q,[W,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"clientAddress","onUpdate:modelValue":t[7]||(t[7]=e=>r.clientAddress.street=e)},null,512),[[n.nr,r.clientAddress.street]])]),(0,a._)("div",J,[(0,a._)("div",H,[Z,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"clientCity","onUpdate:modelValue":t[8]||(t[8]=e=>r.clientAddress.city=e)},null,512),[[n.nr,r.clientAddress.city]])]),(0,a._)("div",Y,[$,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"clientPost","onUpdate:modelValue":t[9]||(t[9]=e=>r.clientAddress.postCode=e)},null,512),[[n.nr,r.clientAddress.postCode]])]),(0,a._)("div",X,[ee,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"clientCountry","onUpdate:modelValue":t[10]||(t[10]=e=>r.clientAddress.country=e)},null,512),[[n.nr,r.clientAddress.country]])])])]),(0,a._)("div",te,[(0,a._)("div",ie,[(0,a._)("label",{onClick:t[11]||(t[11]=(...e)=>l.dateFormatter&&l.dateFormatter(...e)),for:"createdAt"},"Invoice Date"),(0,a.Wm)(d,{modelValue:r.datePicked,"onUpdate:modelValue":t[12]||(t[12]=e=>r.datePicked=e),dark:e.darkMode,autoApply:"",clearable:!1,autoPosition:!0,enableTimePicker:!1,format:l.dateFormatter,readonly:this.$store.state.editingMode},null,8,["modelValue","dark","format","readonly"])]),(0,a._)("div",ne,[ae,(0,a._)("div",{class:"payment-terms",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})},[(0,a.wy)((0,a._)("div",{class:"select-options",style:(0,s.j5)(this.darkMode?{"background-color":e.spaceCadetLight,color:e.white}:{"background-color":e.white,color:"#1E2139","box-shadow":"0px 10px 20px rgba(72, 84, 159, 0.25)"})},[(0,a._)("div",{onClick:t[13]||(t[13]=(...e)=>l.setPaymentTerm&&l.setPaymentTerm(...e)),"data-term":"1",class:"option"}," Net 1 Day "),(0,a._)("div",{onClick:t[14]||(t[14]=(...e)=>l.setPaymentTerm&&l.setPaymentTerm(...e)),"data-term":"7",class:"option"}," Net 7 Days "),(0,a._)("div",{onClick:t[15]||(t[15]=(...e)=>l.setPaymentTerm&&l.setPaymentTerm(...e)),"data-term":"14",class:"option"}," Net 14 Days "),(0,a._)("div",{onClick:t[16]||(t[16]=(...e)=>l.setPaymentTerm&&l.setPaymentTerm(...e)),"data-term":"30",class:"option"}," Net 30 Days ")],4),[[n.F8,r.isSelectOpened]]),(0,a._)("div",se,[(0,a._)("div",{onClick:t[17]||(t[17]=(...e)=>l.toggleSelect&&l.toggleSelect(...e)),class:"custom-select-title"},[(0,a._)("span",oe,(0,s.zw)(r.paymentTermTitle),1),re])])],4)])]),(0,a._)("div",le,[ce,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"description","onUpdate:modelValue":t[18]||(t[18]=e=>r.description=e)},null,512),[[n.nr,r.description]])]),(0,a._)("div",de,[ue,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.items,((i,o)=>((0,a.wg)(),(0,a.iD)("div",{key:o,class:"item-row input-block"},[(0,a._)("div",me,[pe,(0,a.wy)((0,a._)("input",{required:"",type:"text",id:"itemName","onUpdate:modelValue":e=>i.name=e},null,8,he),[[n.nr,i.name]])]),(0,a._)("div",ge,[ve,(0,a.wy)((0,a._)("input",{onInput:t[19]||(t[19]=(...e)=>l.validate&&l.validate(...e)),required:"",type:"number",id:"qty","onUpdate:modelValue":e=>i.qty=e},null,40,ye),[[n.nr,i.qty]])]),(0,a._)("div",Ae,[Ie,(0,a.wy)((0,a._)("input",{required:"",onInput:t[20]||(t[20]=(...e)=>l.validate&&l.validate(...e)),type:"number",min:"1",id:"price","onUpdate:modelValue":e=>i.price=e},null,40,_e),[[n.nr,i.price]])]),(0,a._)("div",fe,[ke,(0,a._)("div",{class:"total-price",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})}," $"+(0,s.zw)(i.total=l.validated(i.qty)*l.validated(i.price)),5)]),(0,a._)("div",{onClick:e=>l.deleteItem(i.id),class:"icon-delete"},De,8,be)])))),128))]),(0,a._)("button",{onClick:t[21]||(t[21]=(0,n.iM)(((...e)=>l.addItem&&l.addItem(...e)),["prevent"])),class:"add-item"}," + Add New Item "),r.emptyItems?((0,a.wg)(),(0,a.iD)("div",Me,"- An item must be added")):(0,a.kq)("",!0),(0,a._)("div",Ee,[(0,a._)("div",Ce,[(0,a.wy)((0,a._)("button",{type:"button",onClick:t[22]||(t[22]=(...e)=>l.closeForm&&l.closeForm(...e)),class:"discard"}," Discard ",512),[[n.F8,!e.editingMode]])]),(0,a._)("div",Te,[e.editingMode?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,type:"submit",onClick:t[23]||(t[23]=(...e)=>l.saveDraft&&l.saveDraft(...e)),class:"draft"}," Save as Draft ")),e.editingMode?((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",onClick:t[24]||(t[24]=(...e)=>l.closeForm&&l.closeForm(...e)),class:"cancel-btn"}," Cancel ")):(0,a.kq)("",!0),(0,a._)("button",{type:"submit",onClick:t[25]||(t[25]=(...e)=>l.sendInvoice&&l.sendInvoice(...e)),class:"send"},(0,s.zw)(e.editingMode?"Save Changes":"Save & Send"),1)])])],36)):(0,a.kq)("",!0)])),_:1})],2)}const Se={class:"loading-wrap"},Be=(0,a._)("div",{class:"lds-ellipsis"},[(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div")],-1),Oe=[Be];function Le(e,t,i,n,s,o){return(0,a.wg)(),(0,a.iD)("div",Se,Oe)}var Fe={};const Ge=(0,b.Z)(Fe,[["render",Le]]);var Ne=Ge,xe=i(4275),Ve=i(6035);const Ue={apiKey:"AIzaSyDRO1JwLwmscuXMxyFC4Mht8D-GCUl_p5A",authDomain:"invoice-app-base.firebaseapp.com",projectId:"invoice-app-base",storageBucket:"invoice-app-base.appspot.com",messagingSenderId:"864558161267",appId:"1:864558161267:web:425e8edbbf69dfc497f906"},Re=(0,xe.ZF)(Ue);var qe=(0,Ve.ad)(Re),je=i(5776),ze=i(2083);const Ke={components:{Datepicker:je.Z,LoadingAnimation:Ne},data(){return{id:null,createdAt:null,paymentDue:null,description:null,paymentTerms:1,clientName:null,clientEmail:null,status:null,senderAddress:{street:null,city:null,postCode:null,country:null},clientAddress:{street:null,city:null,postCode:null,country:null},items:[{name:"",qty:1,price:"0",total:"0"}],total:0,paymentTermTitle:"Net 1 Day",isSelectOpened:!1,datePicked:this.$store.state.editingMode?new Date(Date.parse(this.$store.state.currentInvoice.createdAt)):new Date,animationIsReady:!1,emptyItems:!1,loading:!1,noScroll:"no-scroll",formWrapper:"form-wrapper"}},methods:{...(0,l.OI)(["TOGGLE_FORM","TOGGLE_EDITING_MODE"]),...(0,l.nv)(["GET_INVOICES"]),toggleSelect(){0==this.isSelectOpened?(this.isSelectOpened=!0,document.querySelector(".arrow-select").style.transform="scale(1, -1)"):(this.isSelectOpened=!1,document.querySelector(".arrow-select").style.transform="scale(1, 1)")},hideSelectOptions(){this.isSelectOpened=!1,document.querySelector(".arrow-select").style.transform="scale(1, 1)"},setPaymentTerm(e){this.paymentTerms=+e.target.dataset.term,this.paymentTermTitle=e.target.innerText,this.hideSelectOptions()},dateFormatter(e){const t=e.getDate();function i(){return 0==e.getMonth()?"Jan":1==e.getMonth()?"Feb":2==e.getMonth()?"Mar":3==e.getMonth()?"Apr":4==e.getMonth()?"May":5==e.getMonth()?"June":6==e.getMonth()?"July":7==e.getMonth()?"Aug":8==e.getMonth()?"Sept":9==e.getMonth()?"Oct":10==e.getMonth()?"Nov":11==e.getMonth()?"Dec":void 0}const n=e.getFullYear();return`${t} ${i()} ${n}`},closeForm(){this.animationIsReady=!1,setTimeout((()=>{this.TOGGLE_FORM(),this.editingMode&&this.TOGGLE_EDITING_MODE()}),600)},addItem(){this.items.push({id:(0,ze.h)(),name:"",qty:1,price:0,total:""})},deleteItem(e){this.items=this.items.filter((t=>t.id!=e))},calculateTotalPrice(){this.total=0;const e=0;let t=this.items.reduce(((e,t)=>e+ +t.price*t.qty),e);this.total=t},dateToString(e){function t(){return e.getMonth()+1<10?`0${e.getMonth()+1}`:e.getMonth()+1}function i(){return e.getDate()+1<10?`0${e.getDate()}`:e.getDate()}return`${e.getFullYear()}-${t()}-${i()}`},saveDraft(){this.status="Draft"},sendInvoice(){this.status="Pending"},async submitForm(){if(this.items.length<1)return void(this.emptyItems=!0);this.loading=!0,this.calculateTotalPrice();const e=(0,Ve.hJ)(qe,"invoices");if(this.editingMode){const e=(0,Ve.JU)(qe,"invoices",this.currentInvoice.docId);if(await(0,Ve.r7)(e,{paymentDue:this.paymentDue,description:this.description,paymentTerms:this.paymentTerms,clientName:this.clientName,clientEmail:this.clientEmail,senderAddress:{street:this.senderAddress.street,city:this.senderAddress.city,postCode:this.senderAddress.postCode,country:this.senderAddress.country},clientAddress:{street:this.clientAddress.street,city:this.clientAddress.city,postCode:this.clientAddress.postCode,country:this.clientAddress.country},items:this.items,total:this.total,timestamp:Date.now()}),"Draft"==this.currentInvoice.status){await(0,Ve.r7)(e,{status:"Pending"}),this.currentInvoice.status="Pending";const t=(0,Ve.JU)(qe,"invoices","hHjzseGrUKntiPgVBTbS");await(0,Ve.r7)(t,{pendingLength:(0,Ve.nP)(1)}),await(0,Ve.r7)(t,{draftLength:(0,Ve.nP)(-1)})}else if("Paid"==this.currentInvoice.status){await(0,Ve.r7)(e,{status:"Pending"}),this.currentInvoice.status="Pending";const t=(0,Ve.JU)(qe,"invoices","hHjzseGrUKntiPgVBTbS");await(0,Ve.r7)(t,{pendingLength:(0,Ve.nP)(1)}),await(0,Ve.r7)(t,{paidLength:(0,Ve.nP)(-1)})}this.currentInvoice.paymentDue=this.paymentDue,this.currentInvoice.description=this.description,this.currentInvoice.paymentTerms=this.paymentTerms,this.currentInvoice.clientName=this.clientName,this.currentInvoice.clientEmail=this.clientEmail,this.currentInvoice.senderAddress=this.senderAddress,this.currentInvoice.clientAddress=this.clientAddress,this.currentInvoice.items=this.items,this.currentInvoice.total=this.total,this.currentInvoice.status="Pending";const t=JSON.stringify(this.currentInvoice);localStorage.setItem("currentInvoice",t)}else{let t=(0,ze.h)(6);await(0,Ve.ET)(e,{invoiceId:t,createdAt:this.createdAt,paymentDue:this.paymentDue,description:this.description,paymentTerms:this.paymentTerms,clientName:this.clientName,clientEmail:this.clientEmail,status:this.status,senderAddress:{street:this.senderAddress.street,city:this.senderAddress.city,postCode:this.senderAddress.postCode,country:this.senderAddress.country},clientAddress:{street:this.clientAddress.street,city:this.clientAddress.city,postCode:this.clientAddress.postCode,country:this.clientAddress.country},items:this.items,total:this.total,timestamp:Date.now(),type:"invoice"});const i=(0,Ve.JU)(qe,"invoices","hHjzseGrUKntiPgVBTbS");await(0,Ve.r7)(i,{fullLength:(0,Ve.nP)(1)}),"Pending"==this.status?await(0,Ve.r7)(i,{pendingLength:(0,Ve.nP)(1)}):"Draft"==this.status?await(0,Ve.r7)(i,{draftLength:(0,Ve.nP)(1)}):"paidLength"==this.status&&await(0,Ve.r7)(i,{paidLength:(0,Ve.nP)(1)}),localStorage.setItem(t,!0)}this.loading=!1,this.closeForm(),this.GET_INVOICES()},validate(e){if("0"==e.target.value[0]){let t=e.target.value.split("").slice(1).join("");e.target.value=t}},validated(e){if("0"==e[0]){let t=e.split("").slice(1).join("");e=t}return e}},watch:{datePicked(){let e=this.datePicked;this.createdAt=this.dateToString(e)},paymentTermTitle(){let e=this.datePicked,t=new Date(e.getTime()),i=this.paymentTermTitle.split(" ")[1];t.setDate(t.getDate()+ +i),this.paymentDue=this.dateToString(t)}},computed:{...(0,l.rn)(["editingMode","currentInvoice","darkMode"]),...(0,l.Se)(["white","xiketic","cultured","lightCoral","redSalsa","richBlack","glaucous","coolGrey","lavenderWeb","spaceCadetLight","spaceCadetDark","mediumPurple","mediumSlateBlue","inputBgStyle","inputBorderStyle","inputColorStyle","paymentTermsBorderStyle","addItemStyle","addItemHoverStyle","autofillTextColor","autofillBgColor","bottomPanelBg"])},created(){this.editingMode&&(this.invoiceId=this.currentInvoice.invoiceId,this.paymentDue=this.currentInvoice.paymentDue,1==this.currentInvoice.paymentTerms?this.paymentTermTitle="Net 1 Day":7==this.currentInvoice.paymentTerms?this.paymentTermTitle="Net 7 Days":14==this.currentInvoice.paymentTerms?this.paymentTermTitle="Net 14 Days":30==this.currentInvoice.paymentTerms&&(this.paymentTermTitle="Net 30 Days"),this.description=this.currentInvoice.description,this.paymentTerms=this.currentInvoice.paymentTerms,this.clientName=this.currentInvoice.clientName,this.clientEmail=this.currentInvoice.clientEmail,this.status=this.currentInvoice.status,this.senderAddress=this.currentInvoice.senderAddress,this.clientAddress=this.currentInvoice.clientAddress,this.items=this.currentInvoice.items,this.total=this.currentInvoice.total,this.timestamp=Date.now())},mounted(){this.animationIsReady=!0;let e=this.datePicked;this.createdAt=this.dateToString(new Date);let t=new Date(e.getTime()),i=this.paymentTermTitle.split(" ")[1];t.setDate(t.getDate()+ +i),this.paymentDue=this.dateToString(t),this.editingMode&&setTimeout((()=>{document.querySelector(".date.input-block .input-container").style.opacity="40%",document.querySelector(".dp__input").style.cursor="default"}),100)}},Qe=()=>{(0,n.sj)((e=>({"1e0f4f6d":e.mediumSlateBlue,"6022bd5c":e.lavenderWeb,"67a342cc":e.inputBorderStyle,"11c0ddd3":e.inputBgStyle,be910572:e.inputColorStyle,"25e494b3":e.autofillTextColor,e776104a:e.autofillBgColor,c168a45a:e.paymentTermsBorderStyle,"99fb2fbc":e.mediumPurple,"64a09074":e.glaucous,"6c4055ac":e.redSalsa,"59c7834e":e.addItemStyle,"71d34350":e.addItemHoverStyle,"27d82b66":e.bottomPanelBg,"40afba96":e.spaceCadetLight,"7b26e2d9":e.coolGrey,b1888c14:e.spaceCadetDark})))},We=Ke.setup;Ke.setup=We?(e,t)=>(Qe(),We(e,t)):Qe;var Je=Ke;const He=(0,b.Z)(Je,[["render",Pe]]);var Ze=He;const Ye={key:0,class:"modal-card"},$e=(0,a._)("h2",null,"Confirm Deletion",-1),Xe={class:"description"},et={class:"buttons"},tt={class:"lds-ring"},it=(0,a.Uk)(" Delete "),nt={key:0};function at(e,t,i,o,r,l){return(0,a.wg)(),(0,a.iD)("div",{onClick:t[2]||(t[2]=(0,n.iM)(((...e)=>l.cancelDelete&&l.cancelDelete(...e)),["self"])),class:"modal-wrap"},[(0,a.Wm)(n.uT,{name:"delete-modal"},{default:(0,a.w5)((()=>[r.animationIsReady?((0,a.wg)(),(0,a.iD)("div",Ye,[$e,(0,a._)("div",Xe," Are you sure you want to delete invoice #"+(0,s.zw)(e.currentInvoice.invoiceId)+"? This action cannot be undone. ",1),(0,a._)("div",et,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>l.cancelDelete&&l.cancelDelete(...e))},"Cancel"),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>l.confirmDelete&&l.confirmDelete(...e))},[(0,a._)("div",tt,[it,r.btnAnimation?((0,a.wg)(),(0,a.iD)("div",nt)):(0,a.kq)("",!0)])])])])):(0,a.kq)("",!0)])),_:1})])}var st=i(678),ot=i.p+"img/icon-plus.8060a7cf.svg",rt=i.p+"img/icon-arrow-right.b66e4358.svg",lt=i.p+"img/illustration-empty.7369fe97.svg";const ct={class:"header"},dt={class:"title-block"},ut=(0,a._)("span",null,"There are ",-1),mt={class:"controls"},pt={class:"filter"},ht=(0,a.Uk)("Filter"),gt=(0,a._)("span",null," by status",-1),vt=[ht,gt],yt=(0,a._)("img",{class:"arrow",src:E,alt:""},null,-1),At=["checked"],It=(0,a._)("label",{for:"draft"},"Draft",-1),_t=["checked"],ft=(0,a._)("label",{for:"pending"},"Pending",-1),kt=["checked"],bt=(0,a._)("label",{for:"paid"},"Paid",-1),wt=(0,a._)("div",{class:"plus"},[(0,a._)("img",{src:ot,alt:""})],-1),Dt=(0,a._)("span",null,[(0,a.Uk)("New"),(0,a._)("span",null," Invoice")],-1),Mt=[wt,Dt],Et={class:"item-info"},Ct=(0,a._)("span",{class:"hashtag"},"#",-1),Tt={class:"price-status"},Pt={class:"status"},St=(0,a._)("img",{src:rt,alt:""},null,-1),Bt={class:"trigger",ref:"trigger"},Ot={key:0,class:"empty-placeholder"},Lt=(0,a._)("img",{src:lt,alt:""},null,-1),Ft=(0,a._)("div",{class:"empty-title"},"There is nothing here",-1),Gt=(0,a._)("div",{class:"empty-description"},[(0,a.Uk)(" Create an invoice by clicking the "),(0,a._)("span",null,"New Invoice"),(0,a.Uk)(" button and get started ")],-1),Nt=[Lt,Ft,Gt];function xt(e,t,i,o,r,l){const c=(0,a.up)("loading-animation"),d=(0,a.up)("router-link"),u=(0,a.Q2)("click-away");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",ct,[(0,a._)("div",dt,[(0,a._)("div",{onClick:t[0]||(t[0]=(...e)=>l.loadMoreInvoices&&l.loadMoreInvoices(...e)),class:"title",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})}," Invoices ",4),(0,a._)("div",{class:"info",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.coolGrey})},[ut,(0,a.Uk)((0,s.zw)(e.collectionLength)+" total invoices ",1)],4)]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",mt,[(0,a._)("div",pt,[(0,a._)("div",{onClick:t[1]||(t[1]=(...e)=>l.toggleFilterMenu&&l.toggleFilterMenu(...e)),class:"filter-title"},[(0,a._)("span",{class:"filter-dropdown",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})},vt,4),yt]),(0,a.wy)((0,a._)("form",{class:"filters",style:(0,s.j5)(this.darkMode?{"background-color":e.spaceCadetLight,color:e.white}:{"background-color":e.white,color:"#1E2139","box-shadow":"0px 10px 20px rgba(72, 84, 159, 0.25)"})},[(0,a._)("div",null,[(0,a._)("input",{onInput:t[2]||(t[2]=(...e)=>l.updateFilters&&l.updateFilters(...e)),id:"draft",type:"checkbox",class:"custom-checkbox",name:"Draft",checked:e.stateFilters.Draft},null,40,At),It]),(0,a._)("div",null,[(0,a._)("input",{onInput:t[3]||(t[3]=(...e)=>l.updateFilters&&l.updateFilters(...e)),id:"pending",type:"checkbox",class:"custom-checkbox",name:"Pending",checked:e.stateFilters.Pending},null,40,_t),ft]),(0,a._)("div",null,[(0,a._)("input",{onInput:t[4]||(t[4]=(...e)=>l.updateFilters&&l.updateFilters(...e)),id:"paid",type:"checkbox",class:"custom-checkbox",name:"Paid",checked:e.stateFilters.Paid},null,40,kt),bt])],4),[[n.F8,r.isFilterMenuOpened]])]),(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>l.openForm&&l.openForm(...e)),class:"new-invoice"},Mt)])),[[u,l.hideFilterMenu]])]),(0,a._)("div",{id:"listItem",onClick:t[6]||(t[6]=(...e)=>l.loadMoreInvoices&&l.loadMoreInvoices(...e))},[e.invoicesIsLoading?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.stateInvoices,(t=>((0,a.wg)(),(0,a.j4)(d,{to:{name:"InvoiceDetails",params:{invoiceId:t.invoiceId}},key:t.invoiceId,class:"item",style:(0,s.j5)(this.darkMode?{"background-color":e.spaceCadetDark}:{"background-color":e.white,"box-shadow":"0px 10px 10px -10px rgba(72, 84, 159, 0.100397)"})},{default:(0,a.w5)((()=>[(0,a._)("div",Et,[(0,a._)("div",{class:"id",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})},[Ct,(0,a.Uk)((0,s.zw)(t.invoiceId),1)],4),(0,a._)("div",{class:"date",style:(0,s.j5)(this.darkMode?{color:e.lavenderWeb}:{color:e.glaucous})}," Due "+(0,s.zw)(l.dateFormatter(t.paymentDue)),5),(0,a._)("div",{class:"price",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})}," $ "+(0,s.zw)(t.total),5),(0,a._)("div",{class:"name",style:(0,s.j5)(this.darkMode?{color:e.lavenderWeb}:{color:"#858BB2"})},(0,s.zw)(t.clientName),5)]),(0,a._)("div",Tt,[(0,a._)("div",{class:"name",style:(0,s.j5)(this.darkMode?{color:e.lavenderWeb}:{color:"#858BB2"})},(0,s.zw)(t.clientName),5),(0,a._)("div",{class:"price",style:(0,s.j5)(this.darkMode?{color:e.white}:{color:e.richBlack})}," $ "+(0,s.zw)(t.total),5),(0,a._)("div",{class:(0,s.C_)([{paid:"Paid"==t.status},{pending:"Pending"==t.status},{draft:"Draft"==t.status}])},[(0,a._)("div",Pt,[(0,a._)("span",null,(0,s.zw)(t.status),1)]),St],2)])])),_:2},1032,["to","style"])))),128))]),(0,a._)("div",Bt," ",512),e.showPlaceholder?((0,a.wg)(),(0,a.iD)("div",Ot,Nt)):(0,a.kq)("",!0)],64)}const Vt={components:{LoadingAnimation:Ne},data(){return{filters:{Draft:!1,Pending:!1,Paid:!1},isFilterMenuOpened:!1,draft:"draft",pending:"pending",paid:"paid",notShown:"not-shown",noResult:!0}},computed:{...(0,l.rn)({stateInvoices:"stateInvoices",collectionLength:"collectionLength",showPlaceholder:"showPlaceholder",invoicesIsLoading:"invoicesIsLoading",darkMode:"darkMode",stateFilters:"filters"}),...(0,l.Se)(["white","xiketic","cultured","lightCoral","redSalsa","richBlack","glaucous","coolGrey","lavenderWeb","spaceCadetLight","spaceCadetDark","mediumPurple","mediumSlateBlue","checkboxStyle","autofillTextColor"])},methods:{...(0,l.OI)(["TOGGLE_FORM","SET_FILTERS"]),...(0,l.nv)(["GET_INVOICES"]),toggleFilterMenu(){0==this.isFilterMenuOpened?(this.isFilterMenuOpened=!0,document.querySelector(".arrow").style.transform="scale(1, -1)"):(this.isFilterMenuOpened=!1,document.querySelector(".arrow").style.transform="scale(1, 1)")},hideFilterMenu(){this.isFilterMenuOpened=!1,document.querySelector(".arrow").style.transform="scale(1, 1)"},openForm(){this.TOGGLE_FORM()},updateFilters(){let e=document.getElementById("draft"),t=document.getElementById("pending"),i=document.getElementById("paid");this.filters.Draft=e.checked,this.filters.Pending=t.checked,this.filters.Paid=i.checked,this.SET_FILTERS(this.filters),this.GET_INVOICES()},dateFormatter(e){let t=new Date(Date.parse(e));const i=t.getDate();function n(){return 0==t.getMonth()?"Jan":1==t.getMonth()?"Feb":2==t.getMonth()?"Mar":3==t.getMonth()?"Apr":4==t.getMonth()?"May":5==t.getMonth()?"June":6==t.getMonth()?"July":7==t.getMonth()?"Aug":8==t.getMonth()?"Sept":9==t.getMonth()?"Oct":10==t.getMonth()?"Nov":11==t.getMonth()?"Dec":void 0}const a=t.getFullYear();return`${i} ${n()} ${a}`},loadMoreInvoices(){this.GET_INVOICES("addMoreInvoices")}},mounted(){this.GET_INVOICES();let e={threshold:.5},t=new IntersectionObserver(this.loadMoreInvoices,e);t.observe(this.$refs.trigger)}},Ut=()=>{(0,n.sj)((e=>({"2d682291":e.checkboxStyle,a3ff107e:e.mediumSlateBlue,"2c76404e":e.mediumPurple,d9cb91bc:e.spaceCadetDark,"5a45b105":e.coolGrey,"21fd2fb0":e.lavenderWeb,"7e2cf807":e.autofillTextColor})))},Rt=Vt.setup;Vt.setup=Rt?(e,t)=>(Ut(),Rt(e,t)):Ut;var qt=Vt;const jt=(0,b.Z)(qt,[["render",xt]]);var zt=jt;const Kt=e=>((0,a.dD)("data-v-92ffb916"),e=e(),(0,a.Cn)(),e),Qt=Kt((()=>(0,a._)("img",{src:M,alt:""},null,-1))),Wt=Kt((()=>(0,a._)("span",null,"Go Back",-1))),Jt={class:"head-panel"},Ht={class:"left"},Zt=Kt((()=>(0,a._)("span",null,"Status",-1))),Yt={class:"status"},$t={class:"right"},Xt={class:"status"},ei={class:"bottom-panel"},ti={class:"main-card"},ii={class:"card-head"},ni={class:"info"},ai={class:"id"},si=(0,a.Uk)(" #"),oi={class:"description"},ri={class:"adress"},li={class:"contacts"},ci={class:"dates"},di={class:"invoice-date"},ui=Kt((()=>(0,a._)("div",{class:"label"},"Invoice Date",-1))),mi={class:"title"},pi={class:"payment-due"},hi=Kt((()=>(0,a._)("div",{class:"label"},"Payment Due",-1))),gi={class:"title"},vi={class:"bill-to"},yi=Kt((()=>(0,a._)("div",{class:"label"},"Bill To",-1))),Ai={class:"title"},Ii={class:"adress"},_i={class:"sent-to"},fi=Kt((()=>(0,a._)("div",{class:"label"},"Sent to",-1))),ki={class:"title"},bi={class:"price"},wi=Kt((()=>(0,a._)("tr",{class:"table-title"},[(0,a._)("td",{align:"left"},[(0,a._)("div",null,"Item Name")]),(0,a._)("td",{align:"right",class:"qty-column"},[(0,a._)("div",null,"QTY.")]),(0,a._)("td",{align:"right",class:"price-column"},[(0,a._)("div",null,"Price")]),(0,a._)("td",{align:"right"},[(0,a._)("div",null,"Total")])],-1))),Di={align:"left",width:"50%"},Mi={class:"data"},Ei={class:"mobile-label"},Ci={align:"right",class:"qty-column"},Ti={align:"right",class:"price-column"},Pi={align:"right"},Si={class:"data"},Bi={class:"total-amount"},Oi=Kt((()=>(0,a._)("div",{class:"label"},"Amount Due",-1))),Li={class:"total-price"};function Fi(e,t,i,n,o,r){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{class:"go-back",to:{name:"InvoicesList"}},{default:(0,a.w5)((()=>[Qt,Wt])),_:1}),(0,a._)("div",Jt,[(0,a._)("div",Ht,[Zt,(0,a._)("div",{class:(0,s.C_)([{paid:"Paid"==e.currentInvoice.status},{pending:"Pending"==e.currentInvoice.status},{draft:"Draft"==e.currentInvoice.status}])},[(0,a._)("div",Yt,[(0,a._)("span",null,(0,s.zw)(e.currentInvoice.status),1)])],2)]),(0,a._)("div",$t,[(0,a._)("div",{class:(0,s.C_)([{paid:"Paid"==e.currentInvoice.status},{pending:"Pending"==e.currentInvoice.status},{draft:"Draft"==e.currentInvoice.status}])},[(0,a._)("div",Xt,[(0,a._)("span",null,(0,s.zw)(e.currentInvoice.status),1)])],2),(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleEditingMode&&r.toggleEditingMode(...e)),class:"edit"},"Edit"),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>r.deleteInvoice&&r.deleteInvoice(...e)),class:"delete"},"Delete"),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>r.markAsPaid&&r.markAsPaid(...e)),class:(0,s.C_)([{disabled:r.invoiceIsPaid},o.markPaid])}," Mark as Paid ",2)])]),(0,a._)("div",ei,[(0,a._)("button",{onClick:t[3]||(t[3]=(...e)=>r.toggleEditingMode&&r.toggleEditingMode(...e)),class:"edit"},"Edit"),(0,a._)("button",{onClick:t[4]||(t[4]=(...e)=>r.deleteInvoice&&r.deleteInvoice(...e)),class:"delete"},"Delete"),(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>r.markAsPaid&&r.markAsPaid(...e)),class:(0,s.C_)([{disabled:r.invoiceIsPaid},o.markPaid])}," Mark as Paid ",2)]),(0,a._)("div",ti,[(0,a._)("div",ii,[(0,a._)("div",ni,[(0,a._)("div",ai,[si,(0,a._)("span",null,(0,s.zw)(e.currentInvoice.invoiceId),1)]),(0,a._)("div",oi,(0,s.zw)(e.currentInvoice.description),1)]),(0,a._)("div",ri,[(0,a._)("div",null,(0,s.zw)(e.currentInvoice.senderAddress.street),1),(0,a._)("div",null,(0,s.zw)(e.currentInvoice.senderAddress.city),1),(0,a._)("div",null,(0,s.zw)(e.currentInvoice.senderAddress.postCode),1),(0,a._)("div",null,(0,s.zw)(e.currentInvoice.senderAddress.country),1)])]),(0,a._)("div",li,[(0,a._)("div",ci,[(0,a._)("div",di,[ui,(0,a._)("div",mi,(0,s.zw)(r.dateFormatter(e.currentInvoice.createdAt)),1)]),(0,a._)("div",pi,[hi,(0,a._)("div",gi,(0,s.zw)(r.dateFormatter(e.currentInvoice.paymentDue)),1)])]),(0,a._)("div",vi,[yi,(0,a._)("div",Ai,(0,s.zw)(e.currentInvoice.clientName),1),(0,a._)("div",Ii,[(0,a._)("div",null,(0,s.zw)(e.currentInvoice.clientAddress.street),1),(0,a._)("div",null,(0,s.zw)(e.currentInvoice.clientAddress.city),1),(0,a._)("div",null,(0,s.zw)(e.currentInvoice.clientAddress.postCode),1),(0,a._)("div",null,(0,s.zw)(e.currentInvoice.clientAddress.country),1)])]),(0,a._)("div",_i,[fi,(0,a._)("div",ki,[(0,a._)("div",null,(0,s.zw)(e.currentInvoice.clientEmail),1)])])]),(0,a._)("table",bi,[wi,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.currentInvoice.items,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.name,class:"table-data"},[(0,a._)("td",Di,[(0,a._)("div",Mi,(0,s.zw)(e.name),1),(0,a._)("div",Ei,(0,s.zw)(e.qty)+" x $"+(0,s.zw)(e.price),1)]),(0,a._)("td",Ci,[(0,a._)("div",{style:(0,s.j5)(this.darkMode?{color:"rgba(223, 227, 250, 1)"}:{color:"rgba(126, 136, 195, 1)"}),class:"data"},(0,s.zw)(e.qty),5)]),(0,a._)("td",Ti,[(0,a._)("div",{style:(0,s.j5)(this.darkMode?{color:"rgba(223, 227, 250, 1)"}:{color:"rgba(126, 136, 195, 1)"}),class:"data"}," $ "+(0,s.zw)(e.price),5)]),(0,a._)("td",Pi,[(0,a._)("div",Si,"$ "+(0,s.zw)(e.total),1)])])))),128))]),(0,a._)("div",Bi,[Oi,(0,a._)("div",Li,"$"+(0,s.zw)(e.currentInvoice.total),1)])])],64)}const Gi={data(){return{draft:"draft",pending:"pending",paid:"paid",markPaid:"mark-paid",disabled:"btn-disabled"}},methods:{...(0,l.OI)(["SET_CURRENT_INVOICE","TOGGLE_EDITING_MODE","TOGGLE_FORM","TOGGLE_MODAL"]),...(0,l.nv)(["GET_INVOICES"]),getCurrentInvoice(){this.SET_CURRENT_INVOICE(this.$route.params.invoiceId)},dateFormatter(e){let t=new Date(Date.parse(e));const i=t.getDate();function n(){return 0==t.getMonth()?"Jan":1==t.getMonth()?"Feb":2==t.getMonth()?"Mar":3==t.getMonth()?"Apr":4==t.getMonth()?"May":5==t.getMonth()?"June":6==t.getMonth()?"July":7==t.getMonth()?"Aug":8==t.getMonth()?"Sept":9==t.getMonth()?"Oct":10==t.getMonth()?"Nov":11==t.getMonth()?"Dec":void 0}const a=t.getFullYear();return`${i} ${n()} ${a}`},toggleEditingMode(){this.TOGGLE_EDITING_MODE(),this.TOGGLE_FORM()},async deleteInvoice(){this.TOGGLE_MODAL()},async markAsPaid(){const e=(0,Ve.JU)(qe,"invoices",this.currentInvoice.docId);await(0,Ve.r7)(e,{status:"Paid"});const t=(0,Ve.JU)(qe,"invoices","hHjzseGrUKntiPgVBTbS");await(0,Ve.r7)(t,{paidLength:(0,Ve.nP)(1)}),"Pending"==this.currentInvoice.status?await(0,Ve.r7)(t,{pendingLength:(0,Ve.nP)(-1)}):"Draft"==this.currentInvoice.status&&await(0,Ve.r7)(t,{draftLength:(0,Ve.nP)(-1)}),this.currentInvoice.status="Paid";const i=JSON.stringify(this.currentInvoice);localStorage.setItem("currentInvoice",i)}},computed:{...(0,l.rn)(["currentInvoice","deleteModalActive","darkMode"]),...(0,l.Se)(["white","xiketic","cultured","lightCoral","redSalsa","richBlack","glaucous","coolGrey","lavenderWeb","spaceCadetLight","spaceCadetDark","mediumPurple","mediumSlateBlue","autofillTextColor","editBtnBg","editBtnText","editBtnBgHover","priceBlockBg","totalAmountBg"]),invoiceIsPaid(){return"Paid"==this.currentInvoice.status}},created(){this.getCurrentInvoice()}},Ni=()=>{(0,n.sj)((e=>({"1b4d830e":e.autofillTextColor,"489ed5f0":e.spaceCadetDark,"24b3b3a2":e.lavenderWeb,fb983858:e.editBtnText,"6b59aea8":e.editBtnBg,"1d123bf0":e.editBtnBgHover,"2d3e7526":e.redSalsa,"1b7e0686":e.lightCoral,ade09a9a:e.mediumSlateBlue,fedf8ac8:e.mediumPurple,"41c45334":e.priceBlockBg,"3c250253":e.coolGrey,"1a3c4714":e.totalAmountBg})))},xi=Gi.setup;Gi.setup=xi?(e,t)=>(Ni(),xi(e,t)):Ni;var Vi=Gi;const Ui=(0,b.Z)(Vi,[["render",Fi],["__scopeId","data-v-92ffb916"]]);var Ri=Ui;const qi=[{path:"/",name:"InvoicesList",component:zt},{path:"/invoice/:invoiceId",name:"InvoiceDetails",component:Ri}],ji=(0,st.p7)({history:(0,st.PO)("/invoice-app/"),routes:qi});var zi=ji;const Ki={data(){return{animationIsReady:!1,btnAnimation:!1}},methods:{...(0,l.nv)(["DELETE_INVOICE"]),...(0,l.OI)(["TOGGLE_MODAL","SET_DELETION_RULE"]),async confirmDelete(){localStorage.getItem(this.currentInvoice.invoiceId)?(this.btnAnimation=!0,await this.DELETE_INVOICE(),this.btnAnimation=!1,this.animationIsReady=!1,setTimeout((()=>{this.TOGGLE_MODAL(),zi.push({name:"InvoicesList"})}),600)):alert("Sorry! You can delete invoice only if you add it ;)")},cancelDelete(){this.animationIsReady=!1,setTimeout((()=>{this.TOGGLE_MODAL()}),600)}},computed:{...(0,l.rn)(["currentInvoice"]),...(0,l.Se)(["white","xiketic","cultured","lightCoral","redSalsa","richBlack","glaucous","coolGrey","lavenderWeb","spaceCadetLight","spaceCadetDark","mediumPurple","mediumSlateBlue","autofillTextColor","editBtnBg","editBtnText","editBtnBgHover"])},mounted(){window.scrollTo(0,0),this.animationIsReady=!0}},Qi=()=>{(0,n.sj)((e=>({"0606c59e":e.spaceCadetDark,"5486080b":e.autofillTextColor,"9758da98":e.lavenderWeb,"11d3c2e6":e.editBtnText,e7b8b784:e.editBtnBg,"4b0ba8c4":e.editBtnBgHover,"54873f54":e.redSalsa,d8860598:e.lightCoral})))},Wi=Ki.setup;Ki.setup=Wi?(e,t)=>(Qi(),Wi(e,t)):Qi;var Ji=Ki;const Hi=(0,b.Z)(Ji,[["render",at]]);var Zi=Hi,Yi={components:{ControlPanel:D,InvoiceForm:Ze,DeleteModal:Zi},computed:{...(0,l.rn)(["invoiceForm","deleteModalActive","darkMode"]),...(0,l.Se)(["xiketic","cultured"])}};const $i=(0,b.Z)(Yi,[["render",r]]);var Xi=$i,en=(0,l.MT)({state:{darkMode:!0,stateInvoices:[],invoiceForm:!1,deleteModalActive:null,isDeletionAllowed:!1,collectionLength:0,itemsPerPage:12,lastDocSnapshot:null,lastDocTimeStamp:null,invoicesIsLoading:!1,currentInvoice:null,editingMode:null,showPlaceholder:!1,filters:{Draft:!1,Pending:!1,Paid:!1}},getters:{white:()=>"#fff",xiketic:()=>"rgba(20, 22, 37, 1)",cultured:()=>"rgba(248, 248, 251, 1)",lightCoral:()=>"rgba(255, 151, 151, 1)",redSalsa:()=>"rgba(236, 87, 87, 1)",richBlack:()=>"rgba(12, 14, 22, 1)",glaucous:()=>"rgba(126, 136, 195, 1)",coolGrey:()=>"rgba(136, 142, 176, 1)",lavenderWeb:e=>e.darkMode?"rgba(223, 227, 250, 1)":"rgba(126, 136, 195, 1)",spaceCadetLight:()=>"rgba(37, 41, 69, 1)",spaceCadetDark:e=>e.darkMode?"rgba(30, 33, 57, 1)":"#fff",mediumPurple:()=>"rgba(146, 119, 255, 1)",mediumSlateBlue:()=>"rgba(124, 93, 250, 1)",checkboxStyle:e=>e.darkMode?"rgba(30, 33, 57, 1)":"rgba(223, 227, 250, 1)",inputBgStyle:e=>e.darkMode?"rgba(30, 33, 57, 1)":"#fff",inputBorderStyle:e=>e.darkMode?"rgba(37, 41, 69, 1)":"rgba(223, 227, 250, 1)",inputColorStyle:e=>e.darkMode?"#fff":"rgba(12, 14, 22, 1)",paymentTermsBorderStyle:e=>e.darkMode?"rgba(30, 33, 57, 1)":"rgba(223, 227, 250, 1)",addItemStyle:e=>e.darkMode?"rgba(37, 41, 69, 1)":"rgba(249, 250, 254, 1)",addItemHoverStyle:e=>e.darkMode?"rgba(124, 93, 250, 1)":"rgba(223, 227, 250, 1)",autofillTextColor:e=>e.darkMode?"rgb(255, 255, 255)":"rgba(12, 14, 22, 1)",autofillBgColor:e=>e.darkMode?"rgba(30, 33, 57, 1)":"rgb(255, 255, 255)",editBtnBg:e=>e.darkMode?"rgba(37, 41, 69, 1)":"rgba(249, 250, 254, 1)",editBtnText:e=>e.darkMode?"rgba(255, 255, 255, 1)":"rgba(126, 136, 195, 1)",editBtnBgHover:e=>e.darkMode?"rgba(20, 22, 37, 1)":"rgba(223, 227, 250, 1)",priceBlockBg:e=>e.darkMode?"rgba(37, 41, 69, 1)":"rgba(249, 250, 254, 1)",totalAmountBg:e=>e.darkMode?"rgba(12, 14, 22, 1)":"rgba(55, 59, 83, 1)",bottomPanelBg:e=>e.darkMode?"rgba(20, 22, 37, 1)":"#fff"},mutations:{TOGGLE_FORM(e){e.invoiceForm=!e.invoiceForm},TOGGLE_MODAL(e){e.deleteModalActive=!e.deleteModalActive,e.deleteModalActive?document.body.style.overflow="hidden":document.body.style.overflow="visible"},CONFIRM_DELETE(e,t){e.deleteConfirmed=t},SET_DELETION_RULE(e){e.isDeletionAllowed=!0},SET_FILTERS(e,t){e.filters=t},GET_INVOICES(e,t){e.stateInvoices.push(t)},SET_CURRENT_INVOICE(e,t){if(!localStorage.currentInvoice||JSON.parse(localStorage.getItem("currentInvoice")).invoiceId!=t){e.currentInvoice=e.stateInvoices.filter((e=>e.invoiceId==t));const i={docId:e.currentInvoice[0].docId,invoiceId:e.currentInvoice[0].invoiceId,createdAt:e.currentInvoice[0].createdAt,paymentDue:e.currentInvoice[0].paymentDue,description:e.currentInvoice[0].description,paymentTerms:e.currentInvoice[0].paymentTerms,clientName:e.currentInvoice[0].clientName,clientEmail:e.currentInvoice[0].clientEmail,status:e.currentInvoice[0].status,senderAddress:e.currentInvoice[0].senderAddress,clientAddress:e.currentInvoice[0].clientAddress,items:e.currentInvoice[0].items,total:e.currentInvoice[0].total,timestamp:e.currentInvoice[0].timestamp},n=JSON.stringify(i);localStorage.setItem("currentInvoice",n)}e.currentInvoice=JSON.parse(localStorage.getItem("currentInvoice"))},TOGGLE_EDITING_MODE(e){e.editingMode=!e.editingMode},TOGGLE_DARK_MODE(e){e.darkMode=!e.darkMode}},actions:{async GET_INVOICES(e,t){let i=[];e.state.showPlaceholder=!1,"addMoreInvoices"!=t&&(e.state.stateInvoices=[],e.state.invoicesIsLoading=!0,this.lastDocSnapshot=null);const n=(0,Ve.hJ)(qe,"invoices");async function a(){let e=0,t=(0,Ve.IO)(n,(0,Ve.ar)("name","==","lengthStore")),a=await(0,Ve.PL)(t);function s(e,t){return void 0!=e.find((e=>e===t))}return i.length>0&&i.length<3?(s(i,"Pending")&&a.forEach((t=>{e+=t.data().pendingLength})),s(i,"Draft")&&a.forEach((t=>{e+=t.data().draftLength})),s(i,"Paid")&&a.forEach((t=>{e+=t.data().paidLength})),e):(a.forEach((t=>{e=t.data().fullLength})),e)}i=Object.keys(e.state.filters).filter((t=>e.state.filters[t])),i.length<1&&(i=["Draft","Pending","Paid"]),e.state.collectionLength=await a();let s=(0,Ve.IO)(n,(0,Ve.ar)("status","in",i),(0,Ve.ar)("type","==","invoice"),(0,Ve.Xo)("timestamp","desc"),(0,Ve.b9)(1)),o=await(0,Ve.PL)(s),r=0;o.forEach((e=>{r=e.data().timestamp}));const l=(0,Ve.IO)(n,(0,Ve.ar)("type","==","invoice"),(0,Ve.ar)("status","in",i),(0,Ve.Xo)("timestamp","desc"),(0,Ve.e0)(this.lastDocSnapshot?this.lastDocTimeStamp:r),(0,Ve.b9)(e.state.itemsPerPage));let c=await(0,Ve.PL)(l);this.lastDocSnapshot=c.docs[e.state.itemsPerPage-1],this.lastDocSnapshot&&(this.lastDocTimeStamp=this.lastDocSnapshot.data().timestamp),c.docs.length<1&&(e.state.invoicesIsLoading=!1,e.state.showPlaceholder=!0),c.forEach((t=>{if(!e.state.stateInvoices.find((e=>e.docId==t.id))){const i={docId:t.id,invoiceId:t.data().invoiceId,createdAt:t.data().createdAt,paymentDue:t.data().paymentDue,description:t.data().description,paymentTerms:t.data().paymentTerms,clientName:t.data().clientName,clientEmail:t.data().clientEmail,status:t.data().status,senderAddress:t.data().senderAddress,clientAddress:t.data().clientAddress,items:t.data().items,total:t.data().total,timestamp:t.data().timestamp};e.commit("GET_INVOICES",i)}})),e.state.invoicesIsLoading=!1,a()},async DELETE_INVOICE(e){const t=e.state.currentInvoice.docId;await(0,Ve.oe)((0,Ve.JU)(qe,"invoices",t));const i=(0,Ve.JU)(qe,"invoices","hHjzseGrUKntiPgVBTbS");await(0,Ve.r7)(i,{fullLength:(0,Ve.nP)(-1)}),"Pending"==e.state.currentInvoice.status?await(0,Ve.r7)(i,{pendingLength:(0,Ve.nP)(-1)}):"Draft"==e.state.currentInvoice.status?await(0,Ve.r7)(i,{draftLength:(0,Ve.nP)(-1)}):"Paid"==e.state.currentInvoice.status&&await(0,Ve.r7)(i,{paidLength:(0,Ve.nP)(-1)})}}}),tn=i(3526);(0,n.ri)(Xi).use(en).use(zi).use(tn.ZP).mount("#app")}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,s){if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],s=e[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||o>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[l])}))?n.splice(l--,1):(r=!1,s<o&&(o=s));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,a,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/invoice-app/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,o=n[0],r=n[1],l=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(l)var d=l(i)}for(t&&t(n);c<o.length;c++)s=o[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(d)},n=self["webpackChunkinvoice_app"]=self["webpackChunkinvoice_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(4319)}));n=i.O(n)})();
//# sourceMappingURL=app.ab39065d.js.map